---
title: stat显示文件属性的详细信息
date: 2023-03-24 12:43:15
permalink: /pages/d63e99/
categories:
  - Linux
  - 系统管理
tags:
  - 
---
`stat` 命令用于显示指定文件的详细状态信息，包括文件的大小、创建时间、修改时间、访问时间、inode、硬链接等信息。这些信息可以用于调试和了解文件系统的状态。

### 语法

```bash
stat [选项]... 文件...
```

### 选项

- `-L`：如果文件是符号链接，显示符号链接本身的信息，而不是链接指向的文件的信息。
- `-f`：显示文件系统状态而不是文件状态。
- `-t`：以简洁格式输出时间戳。
- `-c`：以指定的格式输出状态信息，格式串中的转义字符以及它们的含义在 man 手册中有详细描述。

### 示例

```bash
# 显示当前目录下文件的状态信息
stat *

# 显示文件系统状态
stat -f /

# 以简洁格式显示文件的访问、修改、变化时间
stat -t file1

# 以指定格式输出状态信息
stat -c '%n %A %U:%G %s %y' file1
```

`stat file1`输出结果类似于：

```bash
File: ‘file1’
Size: 3200      	Blocks: 8          IO Block: 4096   regular file
Device: fd11h/64785d	Inode: 9178269     Links: 1
Access: (0755/-rwxr-xr-x)  Uid: (    0/    root)   Gid: (    0/    root)
Access: 2023-02-20 11:35:12.018522588 +0800
Modify: 2022-10-26 18:22:35.680254158 +0800
Change: 2022-10-26 18:22:35.686254216 +0800
Birth: -
```

当你使用 `stat` 命令显示文件信息时，输出的文本包含以下字段：

- `File`: 文件名
- `Size`: 文件大小，以字节为单位
- `Blocks`: 文件占用的磁盘块数
- `IO Block`: 文件系统的块大小，通常是 4096 字节
- `Device`: 文件所在设备的 ID 和编号（如 `fd11h/64785d`）
- `Inode`: 文件的 inode 编号
- `Links`: 文件的硬链接数目
- `Uid`: 文件所有者的用户 ID
- `Gid`: 文件所属组的组 ID
- `Access`: 最近一次文件访问时间，即最近一次读取文件的时间。权限（如 `0755/-rwxr-xr-x`），权限包括读（`r`）、写（`w`）和执行（`x`）的权限，每一组权限分别对应文件所有者、所属组、其他用户。
- `Modify`：最近一次文件内容修改时间，即最近一次修改文件内容的时间。
- `Change`：最近一次文件元数据修改时间，包括文件权限、文件所有者、所属组、硬链接等信息的修改。
- `Birth`: 文件的创建时间（不是所有文件系统都支持）

时间戳的格式为 `YYYY-MM-DD HH:MM:SS.NS +TZ`，其中：

- `YYYY-MM-DD` 表示年、月、日，即文件的最近一次修改时间、最近一次访问时间或最近一次状态改变时间的年月日。
- `HH:MM:SS.NS` 表示时、分、秒和纳秒，即文件的最近一次修改时间、最近一次访问时间或最近一次状态改变时间的具体时间。
- `+TZ` 表示时区，即文件的最近一次修改时间、最近一次访问时间或最近一次状态改变时间的时区。

例如 `Access: 2023-02-20 11:35:12.018522588 +0800` 表示文件最近一次访问时间是在东八区时间（UTC+8）的 2023 年 2 月 20 日 11 点 35 分 12.018522588 秒。
